#新手村地图
map: 新手村
code: m00001
desc: 这是一个不大的村子,看起来安静祥和,你可以在这里学习如何探索世界
scale: 3,3
initpoint: 1,1
scenes:
  - name: 村子
    code: m00001-000
    desc: |
      村子不大,村子北面有一座山,西边是一边树林,东边是一片田地,南面有一条小河流过,看起来很安静,村里有小孩在嬉戏,有老人在村头的大树下下棋.
      地上好像有几个<span style="color:Yellow">葫芦</span>
    position: 1,1
    items:
      hulu:
        count: 2
        code: m00001-hulu
        desc: "青皮葫芦(hulu)"
        detail: |
          巴掌大小的葫芦，估摸着可以装700ml的水。
          翻过葫芦底部，上面写着"爸爸王国出品，必属精品"。
        qty: 20
        actions:
          - cmd: get hulu
            desc: get hulu:拾取葫芦
            script: |
              return " 你捡起了一个普通的葫芦，里面盛满了清水。"

          - cmd: drink water
            desc: drink water:喝水
            script: |
              local qty = 10
              local rqty = qty
              result = player:getItemByCode("hulu")
              if result then
                for i = 1,#result do
                  local item = result[i]
                  cqty = item:getItemQuantity()
                  rqty = rqty -cqty
                  if rqty <= 0 then
                    item:setItemQuantity(cqty-qty)
                    break
                  end
                                  
                  item:setItemQuantity(0)
                end
                if rqty == qty then
                  return "你摇了摇葫芦，但里面已经点滴未剩了。你需要找地方灌水(fill water)"
                end
                if rqty >= 0 then
                  return "你喝掉了葫芦里仅剩的水。你需要找地方灌水(fill water)"
                end
                if rqty < 0 then
                  return "你咕嘟咕嘟喝了几口水。"
                end
              else
                return "你先得拾起葫芦 get hulu"
              end 
    path:
      west: m00001-001 
      east: m00001-002
      north: m00001-003
      south: m00001-004
  - name: 树林
    code: m00001-001
    desc: 一片稀疏的果林,有桃树和李树
    position: 0,1
    items:
    path:
      east: m00001-000
  - name: 小河
    code: m00001-004
    desc: 一条10米宽的小河,水流缓慢,水很浅,可以看到河底的鹅卵石和成群的小鱼
    position: 1,0
    items:
    path:
      north: m00001-000  
  - name: 后山
    code: m00001-003
    desc: 一座不太高的小山包,但是周围地势平坦,在山顶应该可以看到很远.
    position: 1,2
    items:
    path:
      south: m00001-000
  - name: 稻田
    code: m00001-002
    desc: 一片绿油油的稻田,快到收获的季节了,地里有农民在除草.
    position: 2,1
    items:
    path:
      west: m00001-000
tasks:
  - name: 熟悉操作
    code: m0001-task-01
    script: |
      local taskData = player:getTaskData("")
